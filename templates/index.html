<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ved Logistics — Book Parcel Pickup Near You</title>

  <!-- SEO meta -->
  <meta name="description" content="Ved Logistics — Fast parcel pickup and delivery across India. Simple form, WhatsApp confirmation, dedicated packaging team, trusted courier partners." />
  <meta name="keywords" content="courier, parcel pickup, send parcel, courier near me, packaging service, DTDC, Delhivery, XpressBees, Ekart" />
  <link rel="canonical" href="{{ request.url_root }}"/>

  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Ved Logistics — Book Parcel Pickup" />
  <meta property="og:description" content="Quick parcel pickup booking. Enter item and pincodes and we'll contact you to arrange pickup." />
  <meta property="og:image" content="{{ url_for('static', filename='logo.png') }}" />
  <meta property="og:url" content="{{ request.url_root }}" />

  <!-- preload logo for LCP -->
  <link rel="preload" as="image" href="{{ url_for('static', filename='logo.png') }}">

  <!-- Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Ved Logistics",
    "url": "{{ request.url_root }}",
    "telephone": "+{{ config.get('OWNER_WHATSAPP','') }}",
    "description": "Pan-India courier pickup, packaging and delivery.",
    "logo": "{{ url_for('static', filename='logo.png') }}"
  }
  </script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet"/>
</head>
<body class="bg-light">

<!-- Header -->
<header class="site-header shadow-sm bg-white">
  <div class="container py-3 d-flex align-items-center justify-content-between">
    <div class="d-flex align-items-center gap-3">
      <img src="{{ url_for('static', filename='logo.png') }}" class="brand-logo-xl" alt="Ved Logistics Logo">
      <div>
        <h1 class="site-title mb-0">Ved Logistics</h1>
        <p class="small text-muted mb-0">India’s Fastest Parcel Pickup Service</p>
      </div>
    </div>

    <div class="text-end d-none d-md-block">
      <div class="small text-muted">Call / WhatsApp</div>
      <div class="contact-number">+{{ config.get('OWNER_WHATSAPP','918005790802') }}</div>
    </div>
  </div>
</header>

<!-- Hidden SEO H1 -->
<h1 class="visually-hidden">Ved Logistics – Book Courier & Parcel Pickup Service Across India</h1>

<!-- Hero -->
<section class="hero-banner text-center py-5 container">
  <div class="d-flex flex-column flex-md-row align-items-center gap-4">
    <img src="{{ url_for('static', filename='logo.png') }}" class="hero-logo" alt="Ved Logistics Large Logo">
    <div class="text-start">
      <h2 class="hero-title">Student Express — Book Your Parcel Pickup in 60 Seconds</h2>
      <p class="hero-subtitle">Fast • Reliable • ₹50 per kg • Customized Packaging Available • Doorstep Pickup Across India</p>
      <div class="mt-3 d-flex gap-2 flex-wrap">
        <a href="#booking" class="btn btn-primary btn-lg">Book a Pickup</a>
        <a href="#how-it-works" class="btn btn-outline-secondary btn-lg">How it Works</a>
      </div>
    </div>
  </div>

  <div class="trust-badges d-flex gap-3 justify-content-center mt-4 flex-wrap">
    <div class="badge-card"><strong>Fast Pickup</strong><div class="muted">Same-day availability</div></div>
    <div class="badge-card"><strong>Pan-India</strong><div class="muted">10,000+ pincodes</div></div>
    <div class="badge-card"><strong>Verified Agents</strong><div class="muted">Safe & reliable</div></div>
  </div>
</section>

<!-- Main -->
<main class="container my-4">
  <div class="row gx-4 gy-4">

    <!-- Booking form -->
    <section id="booking" class="col-12 col-lg-6">
      <div class="card shadow-sm">
        <div class="card-body">
          <h3 class="h5 mb-3">Book a Pickup</h3>

          <form id="bookingForm" action="{{ url_for('submit') }}" method="post" novalidate>
            <div class="mb-3">
              <label class="form-label required">Item description</label>
              <input id="item_description" name="item_description" class="form-control" placeholder="e.g. clothes, documents" required />
            </div>

            <div class="row gx-2">
              <div class="col-6 mb-3">
                <label class="form-label required">Sender name</label>
                <input id="sender_name" name="sender_name" class="form-control" required />
              </div>
              <div class="col-6 mb-3">
                <label class="form-label required">Sender phone</label>
                <input id="sender_phone" name="sender_phone" class="form-control" inputmode="tel" required />
              </div>
            </div>

            <div class="row gx-2">
              <div class="col-6 mb-3">
                <label class="form-label required">Sender pincode</label>
                <input id="sender_pincode" name="sender_pincode" class="form-control" inputmode="numeric" required />
              </div>

              <div class="col-6 mb-3">
                <label class="form-label required">Receiver pincode</label>
                <input id="receiver_pincode" name="receiver_pincode" class="form-control" inputmode="numeric" required />
              </div>
            </div>

            <div class="d-flex flex-column flex-sm-row gap-2 justify-content-between align-items-center mt-2">
              <div class="small text-muted">We save your request & open WhatsApp for confirmation.</div>
              <div class="d-flex gap-2">
                <button id="submitBtn" class="btn btn-outline-primary" type="submit">Submit</button>
                <button id="waBtn" type="button" class="btn btn-primary">Send via WhatsApp</button>
              </div>
            </div>
          </form>

          <div id="alerts" class="mt-3"></div>
        </div>
      </div>
    </section>

    <!-- Testimonials & How it works -->
    <aside class="col-12 col-lg-6">
      <div class="card shadow-sm mb-3">
        <div class="card-body">
          <h4 class="h6">What customers say</h4>
          <p class="small mt-2 mb-1">"Fast pickup and great service — they called immediately."</p>
          <div class="muted small">— Devendra Yadav, Saharsa</div>

          <p class="small mt-3 mb-1">"Very professional and reliable."</p>
          <div class="muted small">— Rishita Suthar, Hisar</div>
        </div>
      </div>

      <div id="how-it-works" class="card shadow-sm">
        <div class="card-body">
          <h4 class="h6">How it works</h4>
          <ol class="ps-3 mt-3 small">
            <li>Fill the short booking form.</li>
            <li>Click <strong>Send via WhatsApp</strong> — we save the request and open WhatsApp.</li>
            <li>We call you & schedule the pickup.</li>
          </ol>
        </div>
      </div>
    </aside>
  </div>

  <!-- Packaging + Partners -->
  <div class="row mt-4 align-items-start">
    <!-- Packaging video -->
    <div class="col-12 col-lg-6">
      <div class="card shadow-sm mb-3">
        <div class="card-body">
          <h4 class="h6">Dedicated Packaging Team</h4>
          <p class="small text-muted">We carefully pack fragile and valuable items using certified materials.</p>

          <video class="packaging-video" controls playsinline preload="metadata"
                 poster="{{ url_for('static', filename='packaging-poster.jpg') }}">
            <source src="{{ url_for('static', filename='packaging.mp4') }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>

        </div>
      </div>
    </div>

    <!-- Partners (use logos from static/logos/) -->
    <div class="col-12 col-lg-6">
      <section class="partners-section text-center">
        <h3 class="mb-4 fw-bold">Our Courier Partners</h3>

        <div class="row g-4 justify-content-center">
          <div class="col-6 col-md-3">
            <div class="partner-card">
              <div class="logo-box">
                <img src="{{ url_for('static', filename='logos/dtdc.png') }}" class="partner-logo" alt="DTDC">
              </div>
              <p class="partner-name">DTDC</p>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="partner-card">
              <div class="logo-box">
                <img src="{{ url_for('static', filename='logos/delhivery.png') }}" class="partner-logo" alt="Delhivery">
              </div>
              <p class="partner-name">Delhivery</p>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="partner-card">
              <div class="logo-box">
                <img src="{{ url_for('static', filename='logos/xpressbees.png') }}" class="partner-logo" alt="XpressBees">
              </div>
              <p class="partner-name">XpressBees</p>
            </div>
          </div>

          <div class="col-6 col-md-3">
            <div class="partner-card">
              <div class="logo-box">
                <img src="{{ url_for('static', filename='logos/ekart.png') }}" class="partner-logo" alt="Ekart Logistics">
              </div>
              <p class="partner-name">Ekart Logistics</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>

  <!-- FAQ -->
  <div class="row mt-4">
    <div class="col-12 col-lg-8">
      <div class="card shadow-sm">
        <div class="card-body">
          <h4 class="h6">Frequently Asked Questions</h4>

          <details class="mb-2"><summary>How fast do you call?</summary>
            <p class="small mt-2">Usually within 15–60 minutes.</p>
          </details>

          <details class="mb-2"><summary>Do you pick up same-day?</summary>
            <p class="small mt-2">Yes, in most major cities.</p>
          </details>

          <details class="mb-2"><summary>What are the charges?</summary>
            <p class="small mt-2">If the weight ≥ 50kg, ₹50 per kg.</p>
          </details>

        </div>
      </div>
    </div>
  </div>

</main>

<!-- Floating WhatsApp -->
<a class="floating-wa" href="https://wa.me/{{ config.get('OWNER_WHATSAPP','918005790802') }}" target="_blank" aria-label="WhatsApp">
  <img src="https://cdn-icons-png.flaticon.com/512/124/124034.png" width="50" alt="WhatsApp">
</a>

<!-- Footer -->
<footer class="py-3 bg-white border-top">
  <div class="container d-flex flex-column flex-md-row justify-content-between small text-muted">
    <div>© {{ datetime.utcnow().year }} Ved Logistics</div>
    <div>Contact: +{{ config.get('OWNER_WHATSAPP','918005790802') }} &nbsp;|&nbsp; Email: <a href="mailto:acc.vedlogistics@gmail.com">acc.vedlogistics@gmail.com</a></div>
  </div>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const waBtn = document.getElementById('waBtn');
  const form = document.getElementById('bookingForm');
  const alerts = document.getElementById('alerts');

  // input elements (safe references)
  const elItem = document.getElementById('item_description');
  const elSenderName = document.getElementById('sender_name');
  const elSenderPhone = document.getElementById('sender_phone');
  const elSenderPin = document.getElementById('sender_pincode');
  const elReceiverPin = document.getElementById('receiver_pincode');

  function show(msg, type='success') {
    alerts.innerHTML = `<div class="alert alert-${type} small">${msg}</div>`;
  }

  if (waBtn) {
    waBtn.addEventListener('click', async () => {
      const data = {
        item_description: elItem.value.trim(),
        sender_name: elSenderName.value.trim(),
        sender_phone: elSenderPhone.value.trim(),
        sender_pincode: elSenderPin.value.trim(),
        receiver_pincode: elReceiverPin.value.trim()
      };

      const missing = [];
      if (!data.item_description) missing.push('Item description');
      if (!data.sender_name) missing.push('Sender name');
      if (!data.sender_phone) missing.push('Sender phone');
      if (!data.sender_pincode) missing.push('Sender pincode');
      if (!data.receiver_pincode) missing.push('Receiver pincode');

      if (missing.length) {
        return show('Please provide: ' + missing.join(', '), 'danger');
      }

      // open popup synchronously to avoid blockers
      const popup = window.open('', '_blank');

      try {
        waBtn.disabled = true;
        waBtn.textContent = 'Saving...';

        const resp = await fetch('/api/submit-json', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(data)
        });

        const js = await resp.json().catch(()=>({ok:false}));

        if (!resp.ok || !js.ok) {
          if (popup) try { popup.close(); } catch(e) {}
          show((js && js.errors ? js.errors.join(' ') : 'Server error'), 'danger');
          return;
        }

        // navigate popup to WhatsApp URL
        if (popup) {
          popup.location = js.wa_url;
        } else {
          window.open(js.wa_url, '_blank');
        }

        show('Saved — WhatsApp opened. Please tap Send in WhatsApp to notify Ved Logistics.', 'success');
        form.reset();
      } catch (err) {
        console.error(err);
        if (popup) try { popup.close(); } catch(e) {}
        show('Network error. Please try again.', 'danger');
      } finally {
        waBtn.disabled = false;
        waBtn.textContent = 'Send via WhatsApp';
      }
    });
  }
});
</script>

</body>
</html>
